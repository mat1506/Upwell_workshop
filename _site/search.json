{
  "articles": [
    {
      "path": "about.html",
      "title": "Taller sobre construcción de bases de datos",
      "description": "En este taller explicaremos los fundamentos basico sobre la contrucción de bases de datos en geociencias y el estado actual de las bases de datos en Chile y la importancia de mantener bases de datos aludables y de acceso abierto",
      "author": [],
      "contents": "\n\n\n\n",
      "last_modified": "2021-09-27T12:25:47-03:00"
    },
    {
      "path": "index.html",
      "title": "Taller UPWELL: introducción a bases de datos y metadatos",
      "description": "Bienvenidos a la website del taller sobre bases de datos del Núcleo Milenio UPWELL. `Espero que lo disfruten!`\n",
      "author": [
        {
          "name": "Dra. Eugenia Gayo",
          "url": "http://www.upwell.cl/web/biogeoquimica-de-humboldt/"
        },
        {
          "name": "Dra. Carola Flores",
          "url": "http://www.upwell.cl/web/interaccion-humano-ambiente/"
        },
        {
          "name": "Dr. Bernardo Broitman",
          "url": "http://www.upwell.cl/web/ecologia-de-humboldt/"
        },
        {
          "name": "Dr. Matías Frugone-Álvarez.",
          "url": "https://matfrugone.netlify.app"
        }
      ],
      "date": "`r Sys.Date()`",
      "contents": "\n\nContents\nBienvenidos\nPre-requisitos\nEsencial\nOpcional\n\nLinks\nSlides\n\n\nBienvenidos\nGracias por asistir a este curso de uso, manipulación y análisis de bases de datos y Meta-datos del proyecto UPWELL\nDiseñamos una serie de talleres prácticos para introducir a un grupo diverso de estudiantes y científicos, jóvenes y no tan jóvenes, para utilizar y aprovechar el poder de los repositorios de datos abiertos en línea, junto con las herramientas computacionales y analíticas necesarias para ello.\n\nPre-requisitos\nEsencial\nInstalar la última version de Zoom.\nInstalar la última versión del Sofware R.\nInstalar la última versión de RStudio.\nInstalar la última version de Git.\nCrear una cuenta en GitHub.\nÚnase a una sesión de verificación de tecnología previa al curso; los detalles se encuentran en el correo electrónico previo al curso.\nOpcional\nConfigure la clase con una computadora portátil que tenga lo siguiente instalado:\nEl día de la clase, le proporcionaremos un enlace a un proyecto de GitHub ClassRoom que contiene todos los materiales del curso.\nUna versión reciente de R (>=3.9.0), disponible en https://cran.r-project.org/\nUna versión reciente de RStudio Desktop (>=1.3.0), disponible en https://www.rstudio.com/download (RStudio Desktop Open Source License)\nLos R packages que vamos a usar;\n\n\ninstall.packages(c(\"tidyverse\", \"neotoma\"))\n\n\n\nUsaremos el software mencionado anteriormente solo como una copia de seguridad importante en caso de que haya problemas con la conexión del servidor del aula.\nI look forward to meeting you,\nMatías\n\nLinks\nRStudio Cloud workspace\nSlides\n00: Introcción\n\n\n\n",
      "last_modified": "2021-09-27T12:25:47-03:00"
    },
    {
      "path": "install.html",
      "title": "Untitled",
      "description": "A new article created using the Distill format.\n",
      "author": [
        {
          "name": "Nora Jones",
          "url": "https://example.com/norajones"
        }
      ],
      "date": "`r Sys.Date()`",
      "contents": "\nDistill is a publication format for scientific and technical writing, native to the web.\nLearn more about using Distill for R Markdown at https://rstudio.github.io/distill.\n\n\n\n",
      "last_modified": "2021-09-27T12:25:48-03:00"
    },
    {
      "path": "neotoma.html",
      "title": "Análisis Demo de la base de datos NeotomaDB en Chile",
      "description": "Un repaso sobre la situación actual de las bases de datos del proyecto AbrocomaDB\n",
      "author": [
        {
          "name": "Matías Frugone-Álvarez",
          "url": "https://matfrugone.netlify.app"
        }
      ],
      "date": "`r Sys.Date()`",
      "contents": "\n\nContents\nIntroduction\nFinding Data\nExplorer\nGetting Started\nSearch for Data\nTips and tricks before we start\nDownload Data\n\n\nWeb API- Application Programming Interface\nWhat is a Web API?\nMore about JSON\nMore on the Neotoma DB API\n\nThe neotoma Package\nFinding sites\nGetting Datasets\nGet_Download\n\nMulti-Site Analysis\n\nIntroduction\nThis workshop is intended to introduce individuals to different ways of analysing data stored in the Neotoma Paleoecology Database and the neotoma package for R.\nIntroduction to Neotoma Explorer for easy data exploration and extraction.\nTraining in the use of the Neotoma R package to archive, access, and analyze paleoecological data.\nNeotoma is a multiproxy paleo-database that stores a range of paleoecological & paleoenvironmental data. One of the strengths of Neotoma is the ability to compare different paleo-proxy data such as fossil pollen, diatoms, ostracodes, insects, charcoal, and geochemical data. In addition, the database is structured to allow the creation and storage of age models built on absolute dates derived from age control points and stratigraphic sections. Neotoma is a public-access, community-supported database that has emerged as the standard repository for Pliocene and Quaternary paleoecological data.\nMore teaching materials can be found in Neotoma’s educational resources.\nThis workshop is available on GitHub, in the NeotomaDB repository.\nFinding Data\nExplorer\nGetting Started\nGo to http://www.neotomadb.org/ and click on the ‘Explorer’ picture, or navigate directly to the Explorer App\nPan (by dragging), or change the zoom so that your window is centered on Chile.\nSearch for Data\nTips and tricks before we start\nShow/Hide Search Results\nWe will accumulate many search layers - it may be getting a bit confusing. Find the icon that lets you show/hide/combine search layers and use it to hide or delete some of your searches.\n\nRename searches\nSearches from the “Basic” search window are automatically named, but not “Advanced” searches.Add names for your searches as you go at the bottom of the Search dialog.\n\nFinding sites\nFind a known site\nUsing the Search dialog window (Metadata subtab;Collection type:Core;Database:Neotoma; Site Name), find “Laguna del Maule”.\nOnce you’ve performed the search, click on the point that appears. A window will pop up with some information about this record.\n\nExplore sites by geography\nUsing the Search dialog window, first choose “dataset type = Pollen” at the top\nThen, in the Space subtab, click “Search by extent”\nClick the “Extent” dropdown menu and search by shape, select the rectangle by using SHIFT+pointer, then draw a rectangle on the map in your chosen region of Chile (for example, South of Chile).\n\n\nFind all sites within a database Chile and the region has a rich history in paleoecological reseach of fossil pollen data. Let’s see how many are currently in Neotoma:\nSearch Window, Metadata subtab;Collection type: Core; Database field\nFind all sites within the Latin American Pollen Database.\nNot that many sites from the region are in Neotoma currently - only 36 datasets across 36 sites\n\nFind a Taxon\nSearch for a single taxon.\nSearch Window, select Dataset type: pollen, and use Taxon name\nFind all sites within the Latin American Pollen Database with Chenopodioideae records\n\nSearch for multiple taxa\nLet’s re-search for Chenopodioideae, but make sure we’ve included all relevant records.\n\nFind all charcoal and pollen records in the database\nSearch window, Dataset type = “Charcoal”\nSearch window, Dataset type = “Pollen”\nMulti-Taxon Search\nFind all sites with Chenopodioideae pollen between 10,000 and 500 years ago.\nFor Chenopodioideae, first click on “Dataset Type” = “pollen”\nThen use the Taxon Selection which you can use by clicking on the gears icon to the right of the ‘Taxon’ field in the ‘Search’ window.\nEnter ‘Taxa group’ = Vascular Plant, search for Casuarina, click the box next to Taxon to check all taxa, then uncheck taxa like “Myrica/Casuarina” or “Casuarina/Corylus”.\nThen click the ‘Abundance/density’ box and select >5%.\nFill in the desired age range, and choose records that ‘intersects result age range’.\nFinally, click ‘Search’\n\nFind all sites with Nothofagus between 10,000 and 500 years\nUse the ‘Advanced Taxon Selection’ which you can use by clicking on the gears icon to the right of the ‘Taxon’ field in the ‘Search’ window. b Enter ‘Taxa group’ = Vascular Plant, search for Nothofagus, click the box next to Taxon to check all taxa you want to include.\nSet a relative abundance filter if you’d like (click the ‘Abundance/density’ box and select >5%)\nFill in the desired age range, and choose records that ‘intersects result age range’.\nFinally, click ‘Search’\n\nYou can combine these two searches to find sites with either Casuarina OR Nothfagus, or restrict it to only those sites with both taxa.\nDownload Data\nFind the icon in the menu that indicates ’View search results in tables’and click on it.\nClick on the Save icon to the right. The dataset will be saved as a text file in CSV (comma separated value) format.\nOpen the downloaded CSV file in Excel or a text editor (e.g. Notepad, Wordpad) to look at it.\nWeb API- Application Programming Interface\nWhat is a Web API?\nSet of protocols for building tools and applications that use a specific web service\nOften a structure for URL/URI formulation to make a query on a web database, such as Neotoma, iDigBio, or the Paleobiology Database. + URL = Uniform Resource Locator, or web address. + URI = Uniform Resource Identifier, or web address of a service, like an API.\nCalls are usually sent as URL GET statements: values appended to a URL after a ? that are processed as parameters to be passed to the code running on the server. For example, we can think of http://google.com/?q=bananas as if it were an R function called search(), passed as search(q=\"bananas\").\nGoogle has APIs for most of its products. You could write an R (or Python, etc.) script that would connect to the Google Calendar API to allow you to automatically change events on your calendar or report agenda items back to you in your own custom environment. Hilary Parker has a nice example for adding sunsets to Google Calendar using R.\nAPIs exist for many important biological and paleobiological databases. We will work through a quick example from Neotoma. Different databases/services produce different kinds of API returns. The simplest kinds are comma delimited text files, but many APIs are now returning JSON documents.\nMore about JSON\nAt its most basic level, JSON transmits data objects in attribute-value pairs. It has come to replace XML, which was the previous standard for this sort of data transmission.\nJSON is composed of objects, enclosed by curly brackets, which may have any number of attributes named in quotes, with values after a colon, separated by commas. You may also present an array, or an ordered collection of values, enclosed in square brackets.\nLet’s search the Neotoma DB via the API for Casuarina. Here is the example API call:\nhttp://api.neotomadb.org/v1/data/sampledata?taxonname=Casuarina*\nNotice when you make this call that the JSON is computer-friendly but not human-friendly (though this depends on browser). Try it again with the ‘pretty’ format tag:\nhttp://api.neotomadb.org/v1/data/sampledata?taxonname=Casuarina*&format=pretty\nYou should be able to see the nested set of JSON objects, including the occurrences returned as comma-separated objects within \"data\".\nTry experimenting with the search, substituting different names.\nJSON is becoming the standard for data transfer in web services. R has several packages for dealing with JSON-formatted data. We will use some examples from the package RJSONIO. We will also use the package RCurl, which has functions to let you query APIs from within the R environment. The neotoma package is built around the newer httr package.\nMore on the Neotoma DB API\nBased on the Casuarina example, you can see that the example API call is reporting data from only part of the distributed database schema of Neotoma. In fact, the Neotoma API is designed around a set of different URLs, each of which allows a user to search a portion of the database. So, if you want the full Site information for locations with Casuarina present, you would have to search on Casuarina in the SampleData URI (as we did in the example), pull the DatasetID values from those returns, then search on the Dataset URI (http://api.neotomadb.org/v1/data/datasets) for those DatasetIDs, which would, in turn, produce the SiteIDs, which you would then search on the Sites URI (http://api.neotomadb.org/v1/data/sites). This sort of searching would be cumbersome if you were to do it by hand, but fortunately you can script a computer to do it for you. In fact, you don’t have to write the scripts to do it, because they have already been constructed and provided to the community as the R neotoma package.\nThe neotoma package will the the subject of our next module, but bear in mind that the other APIs also have wrapper packages to simplify data calls in R. The PaleoBioDB has a package, paleobioDB, and iDigBio has a package, ridigbio. The Earth-Life Consortium was aimed at creating a single API and wrapping R package to access both PaleoBioDB and Neotoma at the same time, as well as linking to many online museum databases and iDigBio. We wanted to introduce you to the underlying architecture here so you would understand what these packages are doing, and would know that you can crack them open and hack your own solutions if you cannot get them to give you the data or format of data that you need for your work.\nThe neotoma Package\nInstall the neotoma package, then add it to your programming environment\n\n\n# install.packages('devtools')\n# devtools::install_github('ropensci/neotoma')\n# Add the packages to your programming environment \nlibrary(neotoma)\n\n\n\nneotoma has three core commands: get_site, get_dataset, and get_download. The first two return metadata for sites and datasets; the latter returns data. See Goring et al. 2015 for a full description of the package and example code. This exercise is partially based on those examples.\nFinding sites\nWe’ll start with get_site. get_site returns a data.frame with metadata about sites. You can use this to find the spatial coverage of data in a region (e.g. using get_site with a bounding box), or to get explicit site information easily from more complex data objects. Use the command ?get_site to see all the options available.\nYou can easily search by site name, for example, finding “Laguna del Maule”, a site in central Chile.\n\n\nmaule_site <- get_site(sitename = 'Laguna del Maule%')\n\n\nThe API call was successful, you have returned  1 records.\n\nExamine the results\n\n\nprint(maule_site)\n\n\n        site.name      long       lat elev\n Laguna del Maule -70.50141 -36.05363 2160\nA site object containing 1 sites and 8 parameters.\n\nWhile maule_site is a data.frame it also has class site, that’s why the print output looks a little different than a standard data.frame. That also allows you to use some of the other neotoma functions more easily.\nBy default the search string is explicit, but because older sites, especially pollen sites entered as part of COHMAP, often had appended textual information (for example (CA:British Columbia)), it’s often good practice to first search using a wildcard character. For example, searching for “Marion” returns three sites:\n\n\n#results= \"hide\"\nmarion_site <- get_site(sitename = 'Marion%')\n\n\nThe API call was successful, you have returned  3 records.\n\n\n\nprint(marion_site)\n\n\n\nYou can also search by lat/lon bounding box. This one roughly corresponds to central Chile (A numeric vector c(lonW, latS, lonE, latN) representing the bounding box within which to search for sites. The convention here is to use negative values for longitudes west of Greenwich or longitudes south of the equator)\n\n\n#results= \"hide\"\nch_sites <- get_site(loc = c(-72, -35, -68, -31)) \n\n\nThe API call was successful, you have returned  1 records.\n\nYou can also search by geopolitical name or geopolitical IDs (gpid) stored in Neotoma. For a list of names and gpids, go to http://api.neotomadb.org/apdx/geopol.htm, or use the get_table(table.name = \"GeoPoliticalUnits\") command. This command works either with an explicit numeric ID, or with a text string:\n\n\n# get all sites in Chile (gpid=7956)\nCH_sites <- get_site(gpid = 825)\n\n\nThe API call was successful, you have returned  22 records.\n\n# get all sites in Wisconsin\nAR_sites <- get_site(gpid = \"Argentina\")\n\n\nThe API call was successful, you have returned  32 records.\n\ndata.frame stores vectors of equal length. The nice thing about a data.frame is that each vector can be of a different type (character, numeric values, etc.). In RStudio, you can use the Environment panel in upper right to explore variables.\nWe pointed out before that the object returned from get_site is both a data.frame and a site object. Because it has a special print method some of the information from the full object is obscured when printed. You can see all the data in the data.frame using str (short for structure):\n\n\nstr(maule_site)\n\n\n\nLet’s look at the description field:\n\n\nCH_sites$description\n\nAR_sites$description\n\n\n\nGetting Datasets\nThe structure of the Neotoma data model, as expressed through the API, is roughly: “counts within download, download within dataset, dataset within site”. So a dataset contains more information than a site, about a particular dataset from that site.\nA site may have a single associated dataset, or multiple. The Neotoma function get_dataset returns a list of datasets containing the metadata for each dataset. We can pass output from get_site (site metadata) to get_dataset, even if get_site returns multiple sites. For example:\n\n\nall_chill <- neotoma::get_dataset(gpid = 825)\n\n#Examine the results\n\nprint(all_chill)\n\n\nA dataset_list containing 114 objects:\nAccessed from 2021-09-27 12:25h to 2021-09-27 12:25h. \nDatasets:\n dataset.id                         site.name      long       lat\n         13 Aguas Calientes                   -67.40000 -23.08333\n         14 Aguas Calientes 2                 -67.58333 -23.50000\n         17 Ajata                             -69.20000 -18.25000\n        350 Caunahue                          -72.00000 -40.00000\n        362 Chepu                             -73.96667 -42.00000\n        488 Isla Clarence                     -71.23333 -54.20000\n        536 Cueva Milodon                     -72.63333 -51.58333\n       1575 La Esperanza                      -72.83333 -46.63333\n       1624 Lejía                             -67.68333 -23.48333\n       1880 Puerto Eden                       -74.41667 -49.13333\n       1958 Canal de la Puntilla              -72.90500 -40.95250\n       2339 San Pedro                         -73.95000 -42.25000\n       2635 Tempano Sur                       -74.03333 -48.73333\n       2665 Tumbre 1                          -67.78333 -23.31667\n       2666 Tumbre 2                          -67.78333 -23.31667\n       2674 Tuyajto                           -67.78333 -23.95000\n       3556 Canal de la Puntilla              -72.90500 -40.95250\n       3557 Canal de la Puntilla              -72.90500 -40.95250\n       7862 Aguas Calientes 2                 -67.58333 -23.50000\n       7865 Ajata                             -69.20000 -18.25000\n       7984 Caunahue                          -72.00000 -40.00000\n       8004 Isla Clarence                     -71.23333 -54.20000\n       8039 Cueva Milodon                     -72.63333 -51.58333\n       8289 La Esperanza                      -72.83333 -46.63333\n       8486 Puerto Eden                       -74.41667 -49.13333\n       8507 Canal de la Puntilla              -72.90500 -40.95250\n       8679 Tempano Sur                       -74.03333 -48.73333\n       8699 Tumbre 1                          -67.78333 -23.31667\n       8700 Tumbre 2                          -67.78333 -23.31667\n       8706 Tuyajto                           -67.78333 -23.95000\n       8836 Canal de la Puntilla              -72.90500 -40.95250\n      14292 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14293 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14294 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14295 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14300 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14301 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14302 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14303 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14304 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14305 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14306 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14307 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14311 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14312 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14313 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14314 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14315 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14316 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14317 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14318 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14319 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14320 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14321 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14322 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14323 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14324 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14325 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14326 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14327 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14328 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14329 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14330 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14331 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14332 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14333 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14334 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14335 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14336 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14337 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14338 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14339 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14340 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14341 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14342 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14343 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14344 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14345 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14346 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14347 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14348 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14349 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14350 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14351 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14352 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14353 Quebrada La Higuera Upper Middens -69.54445 -18.66160\n      14354 Quebrada La Higuera Lower Middens -69.62372 -18.68048\n      14355 Quebrada La Higuera Lower Middens -69.62372 -18.68048\n      14356 Quebrada La Higuera Lower Middens -69.62372 -18.68048\n      14357 Quebrada La Higuera Lower Middens -69.62372 -18.68048\n      14358 Quebrada La Higuera Lower Middens -69.62372 -18.68048\n      14359 Quebrada La Higuera Lower Middens -69.62372 -18.68048\n      14360 Quebrada La Higuera Lower Middens -69.62372 -18.68048\n      14361 Quebrada La Higuera Lower Middens -69.62372 -18.68048\n      14362 Quebrada La Higuera Lower Middens -69.62372 -18.68048\n      14363 Quebrada La Higuera Lower Middens -69.62372 -18.68048\n      14364 Quebrada La Higuera Lower Middens -69.62372 -18.68048\n      14365 Quebrada La Higuera Lower Middens -69.62372 -18.68048\n      14366 Quebrada La Higuera Lower Middens -69.62372 -18.68048\n      14367 Quebrada La Higuera Lower Middens -69.62372 -18.68048\n      14368 Quebrada La Higuera Lower Middens -69.62372 -18.68048\n      15303 Rio Rubens Bog                    -71.87614 -52.03714\n      15304 Rio Rubens Bog                    -71.87614 -52.03714\n      15305 Rio Rubens Bog                    -71.87614 -52.03714\n      15306 Rio Rubens Bog                    -71.87614 -52.03714\n      15329 Mallin Pollux                     -71.83794 -45.68859\n      15330 Mallin Pollux                     -71.83794 -45.68859\n      15331 Mallin Pollux                     -71.83794 -45.68859\n      19815 Laguna del Maule                  -70.50141 -36.05363\n      19816 Laguna del Maule                  -70.50141 -36.05363\n      19817 Laguna del Maule                  -70.50141 -36.05363\n      19818 Laguna del Maule                  -70.50141 -36.05363\n      48620 Mallin Casanova                   -72.97522 -47.64356\n      48621 Mallin Casanova                   -72.97522 -47.64356\n              type\n pollen           \n pollen           \n pollen           \n pollen           \n pollen           \n pollen           \n pollen           \n pollen           \n pollen           \n pollen           \n pollen           \n pollen           \n pollen           \n pollen           \n pollen           \n pollen           \n loss-on-ignition \n pollen           \n geochronologic   \n geochronologic   \n geochronologic   \n geochronologic   \n geochronologic   \n geochronologic   \n geochronologic   \n geochronologic   \n geochronologic   \n geochronologic   \n geochronologic   \n geochronologic   \n geochronologic   \n geochronologic   \n vertebrate fauna \n plant macrofossil\n pollen           \n geochronologic   \n vertebrate fauna \n plant macrofossil\n pollen           \n geochronologic   \n vertebrate fauna \n plant macrofossil\n pollen           \n geochronologic   \n vertebrate fauna \n plant macrofossil\n pollen           \n geochronologic   \n vertebrate fauna \n plant macrofossil\n pollen           \n geochronologic   \n vertebrate fauna \n plant macrofossil\n pollen           \n geochronologic   \n vertebrate fauna \n plant macrofossil\n pollen           \n geochronologic   \n vertebrate fauna \n plant macrofossil\n pollen           \n geochronologic   \n vertebrate fauna \n plant macrofossil\n pollen           \n geochronologic   \n vertebrate fauna \n plant macrofossil\n pollen           \n geochronologic   \n vertebrate fauna \n plant macrofossil\n pollen           \n geochronologic   \n vertebrate fauna \n plant macrofossil\n geochronologic   \n vertebrate fauna \n plant macrofossil\n pollen           \n geochronologic   \n vertebrate fauna \n plant macrofossil\n pollen           \n geochronologic   \n vertebrate fauna \n plant macrofossil\n pollen           \n geochronologic   \n vertebrate fauna \n plant macrofossil\n pollen           \n geochronologic   \n vertebrate fauna \n plant macrofossil\n pollen           \n geochronologic   \n vertebrate fauna \n plant macrofossil\n geochronologic   \n plant macrofossil\n charcoal         \n pollen           \n geochronologic   \n charcoal         \n pollen           \n geochronologic   \n testate amoebae  \n pollen           \n diatom           \n geochronologic   \n pollen           \nNULL\n\nUse get.tables(‘GeoPoliticalUnits’) for a list of acceptable values, or link here: http://api.neotomadb.org/apdx/geopol.htm\n\n\nplot(all_chill)\n\n\n\n\nMake sure the leaflet package is installed using install.packages(‘leaflet’), and then let’s check out what we get:\n\n\nlibrary(leaflet)\n\n# We're going to use this multiple times I think, so let's make it a function:\n\nleaflet_map <- function(dataset_in) {\n  dataset_summary <- do.call(rbind, lapply(dataset_in, \n                        function(x){\n                          # here we pull out the site information from the `dataset` objects:\n                          data.frame(name = x$site.data$site.name,\n                                     lat  = x$site.data$lat + runif(1, -0.005, 0.005),\n                                     long = x$site.data$long + runif(1, -0.005, 0.005),\n                                     type = x$dataset.meta$dataset.type)\n                        }))\n  \n  # The leaflet package documentation uses piping.  For the sake of this tutorial, I won't.\n  # First, define a color palette for the dataset type symbol plotting.\n  pal <- colorFactor(\"Dark2\", domain = levels(dataset_summary$type))\n  \n  # Now make the leaflet map, add base raster tiles and then add the markers for the records:\n  map <- leaflet(data = dataset_summary)\n  map <- leaflet::addTiles(map)\n  map <- leaflet::addCircleMarkers(map, ~long, ~lat, \n                                   popup = ~paste0(\"Site: \", as.character(name), \"<br>\",\n                                                   \"Type: \", \n                                                   as.character(dataset_summary$type)),\n                                   color = ~pal(type),\n                                   stroke = FALSE, fillOpacity = 0.5)\n  # You need to explicitly call the `map` object to make it appear!\n  map\n}\n\n# Since that's all wrapped in a function, we can all it with any `dataset_list`:\nleaflet_map(all_chill)\n\n\n\n{\"x\":{\"options\":{\"crs\":{\"crsClass\":\"L.CRS.EPSG3857\",\"code\":null,\"proj4def\":null,\"projectedBounds\":null,\"options\":{}}},\"calls\":[{\"method\":\"addTiles\",\"args\":[\"//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",null,null,{\"minZoom\":0,\"maxZoom\":18,\"tileSize\":256,\"subdomains\":\"abc\",\"errorTileUrl\":\"\",\"tms\":false,\"noWrap\":false,\"zoomOffset\":0,\"zoomReverse\":false,\"opacity\":1,\"zIndex\":1,\"detectRetina\":false,\"attribution\":\"&copy; <a href=\\\"http://openstreetmap.org\\\">OpenStreetMap<\\/a> contributors, <a href=\\\"http://creativecommons.org/licenses/by-sa/2.0/\\\">CC-BY-SA<\\/a>\"}]},{\"method\":\"addCircleMarkers\",\"args\":[[-23.0877631703945,-23.4970696940925,-18.2518800027552,-40.0003621630929,-41.9996983200265,-54.2039484025212,-51.5845168594009,-46.6367289357929,-23.4814186935144,-49.1352619214723,-40.9478599847993,-42.2500383149344,-48.7301810623909,-23.3206626402779,-23.3161690312537,-23.9474425323331,-40.9539164479426,-40.9509217044734,-23.4950178819965,-18.2466935030953,-40.0022798405797,-54.1952081270143,-51.5805723828863,-46.6361480694747,-49.1352437762119,-40.9486397508369,-48.7339764689043,-23.3143428673089,-23.3130775141908,-23.947214997476,-40.9502533972287,-18.6644636412043,-18.6567988833374,-18.6614470079573,-18.6588406478669,-18.6587075954637,-18.6614619260755,-18.6656910767857,-18.6615123558938,-18.6599156953449,-18.6593750679362,-18.6585486781792,-18.6662965944022,-18.6648354069082,-18.6581853873244,-18.6660864369347,-18.6580469276019,-18.6648625152846,-18.6606531364572,-18.6601033210274,-18.6585487492647,-18.6648019390911,-18.6613907089791,-18.6607886769934,-18.6568448194264,-18.6618210860467,-18.6652425913125,-18.6620818128375,-18.6654682614826,-18.6576125337471,-18.6625919838374,-18.6601233583068,-18.6571519622704,-18.659919412407,-18.6581340028075,-18.6634893353827,-18.6626133184679,-18.6626948204342,-18.6622446867995,-18.6595421939421,-18.6586462910691,-18.6618825471363,-18.6648004663674,-18.6607960401181,-18.6658056847573,-18.6642291902317,-18.6575400555212,-18.6593820447763,-18.6644392212419,-18.6631492967516,-18.6653306458526,-18.6664134710733,-18.6615577039643,-18.6601747241764,-18.6645683043854,-18.6622099819695,-18.6769573297714,-18.676620548136,-18.6840046464642,-18.6845229522524,-18.6825049100829,-18.6799296903018,-18.6837680162852,-18.6755352285634,-18.6792311492575,-18.6853075839243,-18.6851861737379,-18.677969802624,-18.6779466363871,-18.6846708345543,-18.6846802619997,-52.0362712658368,-52.0342272651925,-52.0341999833014,-52.0389062550905,-45.6922559770762,-45.6862372122455,-45.6861192271166,-36.0493613156306,-36.0577945767275,-36.0546363989173,-36.0583472249915,-47.6420629374668,-47.6391315152342],[-67.4045477341116,-67.5808195790876,-69.1986351386341,-72.0021693894267,-73.9667098074459,-71.2337193295796,-72.6334102278872,-72.8335200072493,-67.68581289784,-74.4132388230861,-72.905152034706,-73.9509566272749,-74.0377419493831,-67.7826130058518,-67.7840922439232,-67.782271556884,-72.9089338498819,-72.9094309467962,-67.5832944329892,-69.1998398840753,-71.998655232389,-71.231450849566,-72.6351597302704,-72.8344618079363,-74.4147348692344,-72.9015054494981,-74.0338795164082,-67.7865525954258,-67.787618155409,-67.7870472043631,-72.9059913118184,-69.5458794378134,-69.5431747576937,-69.5463049717916,-69.5439992762094,-69.5426717311976,-69.5415955168259,-69.540606175863,-69.5439944577769,-69.542920894075,-69.542801678839,-69.5493204784759,-69.5447587384813,-69.5454091247584,-69.544948727269,-69.5431364037905,-69.5490525890042,-69.5454235159553,-69.5450441192527,-69.5444555568758,-69.5429697843169,-69.5453841934929,-69.5422469447407,-69.5465727315604,-69.5447672569885,-69.5437998395803,-69.5410185169119,-69.5438320418208,-69.5444488213228,-69.5480164420622,-69.5449499047239,-69.5425310566084,-69.5450413978792,-69.5428084603435,-69.5420416637038,-69.547239492677,-69.5453541228239,-69.5464268383121,-69.5399434760975,-69.5484064307826,-69.5416264861746,-69.5455766282271,-69.5464962108613,-69.5421989461308,-69.5471868690586,-69.5437800929526,-69.5457387515244,-69.5462203658366,-69.5435585606883,-69.5439686901325,-69.5438162462966,-69.5426716600212,-69.5489614042377,-69.5480219192075,-69.5415741398272,-69.5488420523813,-69.6209499526384,-69.6190501527639,-69.6262582422757,-69.6214291844248,-69.6190581194625,-69.6187914967199,-69.6284001156862,-69.6284069453959,-69.6198933855618,-69.6220671085023,-69.6270820983021,-69.6244727426778,-69.6265500657877,-69.6191338820999,-69.6187647209653,-71.8756538456672,-71.8714892223029,-71.8750928032299,-71.8744669775263,-71.8374781002842,-71.8428434661116,-71.83623105538,-70.4995684854913,-70.5033525069913,-70.5009919656108,-70.4986305412714,-72.9743598711867,-72.9753474656426],10,null,null,{\"interactive\":true,\"className\":\"\",\"stroke\":false,\"color\":[\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E7298A\",\"#E6AB02\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#7570B3\",\"#66A61E\",\"#1B9E77\",\"#E6AB02\",\"#7570B3\",\"#1B9E77\",\"#E6AB02\",\"#7570B3\",\"#A6761D\",\"#E6AB02\",\"#D95F02\",\"#7570B3\",\"#E6AB02\"],\"weight\":5,\"opacity\":0.5,\"fill\":true,\"fillColor\":[\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E6AB02\",\"#E7298A\",\"#E6AB02\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#E6AB02\",\"#7570B3\",\"#666666\",\"#66A61E\",\"#7570B3\",\"#66A61E\",\"#1B9E77\",\"#E6AB02\",\"#7570B3\",\"#1B9E77\",\"#E6AB02\",\"#7570B3\",\"#A6761D\",\"#E6AB02\",\"#D95F02\",\"#7570B3\",\"#E6AB02\"],\"fillOpacity\":0.5},null,null,[\"Site: Aguas Calientes<br>Type: pollen\",\"Site: Aguas Calientes 2<br>Type: pollen\",\"Site: Ajata<br>Type: pollen\",\"Site: Caunahue<br>Type: pollen\",\"Site: Chepu<br>Type: pollen\",\"Site: Isla Clarence<br>Type: pollen\",\"Site: Cueva Milodon<br>Type: pollen\",\"Site: La Esperanza<br>Type: pollen\",\"Site: Lejía<br>Type: pollen\",\"Site: Puerto Eden<br>Type: pollen\",\"Site: Canal de la Puntilla<br>Type: pollen\",\"Site: San Pedro<br>Type: pollen\",\"Site: Tempano Sur<br>Type: pollen\",\"Site: Tumbre 1<br>Type: pollen\",\"Site: Tumbre 2<br>Type: pollen\",\"Site: Tuyajto<br>Type: pollen\",\"Site: Canal de la Puntilla<br>Type: loss-on-ignition\",\"Site: Canal de la Puntilla<br>Type: pollen\",\"Site: Aguas Calientes 2<br>Type: geochronologic\",\"Site: Ajata<br>Type: geochronologic\",\"Site: Caunahue<br>Type: geochronologic\",\"Site: Isla Clarence<br>Type: geochronologic\",\"Site: Cueva Milodon<br>Type: geochronologic\",\"Site: La Esperanza<br>Type: geochronologic\",\"Site: Puerto Eden<br>Type: geochronologic\",\"Site: Canal de la Puntilla<br>Type: geochronologic\",\"Site: Tempano Sur<br>Type: geochronologic\",\"Site: Tumbre 1<br>Type: geochronologic\",\"Site: Tumbre 2<br>Type: geochronologic\",\"Site: Tuyajto<br>Type: geochronologic\",\"Site: Canal de la Puntilla<br>Type: geochronologic\",\"Site: Quebrada La Higuera Upper Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Upper Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Upper Middens<br>Type: plant macrofossil\",\"Site: Quebrada La Higuera Upper Middens<br>Type: pollen\",\"Site: Quebrada La Higuera Upper Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Upper Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Upper Middens<br>Type: plant macrofossil\",\"Site: Quebrada La Higuera Upper Middens<br>Type: pollen\",\"Site: Quebrada La Higuera Upper Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Upper Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Upper Middens<br>Type: plant macrofossil\",\"Site: Quebrada La Higuera Upper Middens<br>Type: pollen\",\"Site: Quebrada La Higuera Upper Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Upper Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Upper Middens<br>Type: plant macrofossil\",\"Site: Quebrada La Higuera Upper Middens<br>Type: pollen\",\"Site: Quebrada La Higuera Upper Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Upper Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Upper Middens<br>Type: plant macrofossil\",\"Site: Quebrada La Higuera Upper Middens<br>Type: pollen\",\"Site: Quebrada La Higuera Upper Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Upper Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Upper Middens<br>Type: plant macrofossil\",\"Site: Quebrada La Higuera Upper Middens<br>Type: pollen\",\"Site: Quebrada La Higuera Upper Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Upper Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Upper Middens<br>Type: plant macrofossil\",\"Site: Quebrada La Higuera Upper Middens<br>Type: pollen\",\"Site: Quebrada La Higuera Upper Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Upper Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Upper Middens<br>Type: plant macrofossil\",\"Site: Quebrada La Higuera Upper Middens<br>Type: pollen\",\"Site: Quebrada La Higuera Upper Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Upper Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Upper Middens<br>Type: plant macrofossil\",\"Site: Quebrada La Higuera Upper Middens<br>Type: pollen\",\"Site: Quebrada La Higuera Upper Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Upper Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Upper Middens<br>Type: plant macrofossil\",\"Site: Quebrada La Higuera Upper Middens<br>Type: pollen\",\"Site: Quebrada La Higuera Upper Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Upper Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Upper Middens<br>Type: plant macrofossil\",\"Site: Quebrada La Higuera Upper Middens<br>Type: pollen\",\"Site: Quebrada La Higuera Upper Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Upper Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Upper Middens<br>Type: plant macrofossil\",\"Site: Quebrada La Higuera Upper Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Upper Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Upper Middens<br>Type: plant macrofossil\",\"Site: Quebrada La Higuera Upper Middens<br>Type: pollen\",\"Site: Quebrada La Higuera Upper Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Upper Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Upper Middens<br>Type: plant macrofossil\",\"Site: Quebrada La Higuera Upper Middens<br>Type: pollen\",\"Site: Quebrada La Higuera Lower Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Lower Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Lower Middens<br>Type: plant macrofossil\",\"Site: Quebrada La Higuera Lower Middens<br>Type: pollen\",\"Site: Quebrada La Higuera Lower Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Lower Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Lower Middens<br>Type: plant macrofossil\",\"Site: Quebrada La Higuera Lower Middens<br>Type: pollen\",\"Site: Quebrada La Higuera Lower Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Lower Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Lower Middens<br>Type: plant macrofossil\",\"Site: Quebrada La Higuera Lower Middens<br>Type: pollen\",\"Site: Quebrada La Higuera Lower Middens<br>Type: geochronologic\",\"Site: Quebrada La Higuera Lower Middens<br>Type: vertebrate fauna\",\"Site: Quebrada La Higuera Lower Middens<br>Type: plant macrofossil\",\"Site: Rio Rubens Bog<br>Type: geochronologic\",\"Site: Rio Rubens Bog<br>Type: plant macrofossil\",\"Site: Rio Rubens Bog<br>Type: charcoal\",\"Site: Rio Rubens Bog<br>Type: pollen\",\"Site: Mallin Pollux<br>Type: geochronologic\",\"Site: Mallin Pollux<br>Type: charcoal\",\"Site: Mallin Pollux<br>Type: pollen\",\"Site: Laguna del Maule<br>Type: geochronologic\",\"Site: Laguna del Maule<br>Type: testate amoebae\",\"Site: Laguna del Maule<br>Type: pollen\",\"Site: Laguna del Maule<br>Type: diatom\",\"Site: Mallin Casanova<br>Type: geochronologic\",\"Site: Mallin Casanova<br>Type: pollen\"],null,null,{\"interactive\":false,\"permanent\":false,\"direction\":\"auto\",\"opacity\":1,\"offset\":[0,0],\"textsize\":\"10px\",\"textOnly\":false,\"className\":\"\",\"sticky\":true},null]}],\"limits\":{\"lat\":[-54.2039484025212,-18.2466935030953],\"lng\":[-74.4147348692344,-67.4045477341116]}},\"evals\":[],\"jsHooks\":[]}\nGet_Download\nThe Neotoma function get_download() returns a list that stores a list of download objects - one for each retrieved dataset. Note that get_download() returns the actual (raw) data associated with each dataset, rather than a list of the available datasets, as in get_dataset() above. Each download object contains a suite of data for the samples in that dataset.\nUsing the get_download() will accept an object of class dataset (ie, tas_dataset), but also of class site (ie, lagoon_sites), since it will automatically query for the datasets associated in each site.\n\n\nCH_all <- get_download(CH_sites)\n#print(CH_all)\n\n\n\nThere are a number of messages that appear. These can be suppressed with the flag verbose = FALSE in the function call. One thing you’ll note is that not all of the datasets can be downloaded directly to a download objct. This is because geochronologic datasets have a different data structure than other data, requiring different fields, and as such, they can be obtained using the get_geochron() function.\n\n\n\nThe result is effectively the inverse of the first.\nGet the datasets for just El Maule (dataset 19817):\n\n\nmaule_pd <- get_download(19817)\n\n\n\nLet’s examine the available data in this download\n\n\nstr(maule_pd[[1]])\n\n\n\nThere are 6 associated fields:\ndataset\nsite.data\ndataset.meta\npi.data\nsubmission\naccess.date\nsite\n\nsample.meta\ntaxon.list\ncounts\nlab.data\nchronologies\nWithin the download object, sample.meta stores the core depth and age information for that dataset. We just want to look at the first few lines, so are using the head() function. Let’s explore different facets of the dataset\n\n\nhead(maule_pd[[1]]$sample.meta)\n#taxon.list stores a list of taxa found in the dataset\nhead(maule_pd[[1]]$taxon.list)\n#counts stores the the counts, presence/absence data, or percentage data for each taxon for each sample\nhead(maule_pd[[1]]$counts)\n\n\n\nHere we can get to the papers that published about a site of interest:\n\n\nget_publication(datasetid = 19817)\n\n\nThe API call was successful, you have returned  1 record.\n[[1]]\n[[1]]$meta\n    id        pub.type year\n1 8100 Journal Article 2015\n                                                                                                                                                                                                                                                                                                    citation\n1 Carrevedo, M.L., M. Frugone, C. Latorre, A. Maldonado, P. Bernárdez, R. Prego, D. Cárdenas, and B. Valero-Garcés. 2015. A 700-year record of climate and environmental change from a high Andean lake: Laguna del Maule, central Chile (36°S). The Holocene 25(6):956-972. [DOI: 10.1177/0959683615574584]\n\n[[1]]$authors\n  ContactID Order                   ContactName\n1      7338     1 Carrevedo Goytía, María Laura\n2      6612     2       Frugone Álvarez, Matías\n3      5172     3              Latorre, Claudio\n4      5175     4     Maldonado Castro, Antonio\n5      7339     5 Bernárdez Rodríguez, Patricia\n6      7340     6                Prego, Ricardo\n7      7341     7             Cárdenas, Daniela\n8      7343     8        Valero-Garcés, Blas L.\n\nMulti-Site Analysis\n\n\n\n",
      "last_modified": "2021-09-27T12:25:59-03:00"
    }
  ],
  "collections": []
}
